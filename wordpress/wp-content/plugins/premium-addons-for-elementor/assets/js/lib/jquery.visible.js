!function(w){var y=w(window);w.fn.visible=function(t,o,i,e){if(!(this.length<1)){i=i||"both";var n=1<this.length?this.eq(0):this,h=null!=e,p=h?w(e):y,f=h?p.position():0,r=n.get(0),u=(p.outerWidth(),p.outerHeight()),g=!0!==o||r.offsetWidth*r.offsetHeight;if("function"==typeof r.getBoundingClientRect){var s=r.getBoundingClientRect(),b=h?0<=s.top-f.top&&s.top<u+f.top:0<=s.top&&s.top<u,l=h?0<s.bottom-f.top&&s.bottom<=u+f.top:0<s.bottom&&s.bottom<=u,c=t?b||l:b&&l;c=s.top<0&&s.bottom>u||c;return g&&c}var d=h?0:f,m=d+u,v=n.position().top,a=v+n.height();return!!g&&(!0===t?v:a)<=m&&d<=(!0===t?a:v)}}}(jQuery);